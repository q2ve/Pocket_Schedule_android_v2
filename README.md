# Sched App
____
*After all this time?*
____
## Оглавление

1. [**Вступление**](#Вступление)
2. [**Функционал**](#Функционал)
    1. [Поддерживаемые учебные заведения](#Поддерживаемые_учебные_заведения)
    2. [Авторизация](#Авторизация)
    3. [Расписание](#Расписание)
    4. [Дедлайны](#Дедлайны)
    5. [Новости](#Новости)
    6. [Настройки](#Настройки)
3. [**Используемые технологии**](#Используемые_технологии)
4. [**ГУАП и дизайн приложения**](#ГУАП_и_дизайн_приложения)
5. [**Заключение**](#Заключение)

## Вступление <a name="Вступление"></a> 

Перед вами мое приложение для студентов, которое трудно охарактеризовать одним емким словом.
Можно было бы назвать его приложением расписания, ведь это его основная функция. Но помимо самого расписания для преподавателей и студентов в приложении имеется функционал:
- списка создаваемых пользователем дедлайнов с привязкой времени и предметов,
- просмотра задач, поставленных преподавателями в системе учебного заведения,
- обозрения новостей из нескольких тематических источников.

Получается, не просто "расписание". Также не назвать его "ежедневником" или "дневником". Так что опустим ярлыки, в том числе нецензурные.

Лучше я опишу функционал.

## Функционал <a name="Функционал"></a> 

**Поддерживаемые учебные заведения.<a name="Поддерживаемые_учебные_заведения"></a>** Приложение не универсально, ведь системы расписания каждого учебного заведения уникальны, и под каждую необходимо разработать отдельный модуль сервера.
Список будет пополнятся со временем. Сейчас, например, рассматривается бонч.

- ИТМО (ФСПО)
- ГУАП
- *Политех* (в тестовой версии)


**Авторизация.<a name="Авторизация"></a>** После краткого онбоардинга приложение предложит авторизоваться либо пользоваться им без авторизации. Без авторизации доступно лишь расписание. Авторизация необходима для создания пользователя на сервере, чтобы все сохраняемые личные данные были доступны с любого устройства.
Авторизоваться мы можем либо через вконтакте, из которого приложение подтянет токен, имя и аватарку, либо через систему поддерживаемого учебного заведения.
При втором варианте нам также будут доступен просмотр задач, которые поставили преподаватели в этой системе. Впрочем, привязать учетную запись вуза можно и к аккаунту, созданному после авторизации через вконтакте.
Далее приложение предложит нам выбрать, расписание какой группы/преподавателя показывать, после чего перейдет к нашему основному разделу.

**Расписание.<a name="Расписание"></a>** Все довольно банально - здесь отображается расписание. Открыв селектор, мы можем выбрать список групп нашего учебного заведения либо список преподавателей. А с помощью поиска мы отфильтруем длинную портянку результатов и найдем нужное нам расписание.
Само расписание подтягивается с сервера, который по ночам раз в несколько дней кэширует его из систем учебных заведений, иногда вешая их на некоторое время.
Расписание можно посмотреть для каждого дня четной и нечетной недели, а также в отдельную группу выделены пары, поставленные вне сетки расписания.
Для каждой пары отображается ее тип, предмет, преподаватели, количество групп, аудитория и некоторые специальные теги для шарящих. Кто-то еще это читает?
В правом верхнем углу экрана можем найти кнопку настроек, но их оставим на сладкое.
Внизу экрана находится навигационный бар с пока что тремя кнопками. Налево пойдешь - с новостями ознакомишься, направо пойдешь - дедлайны сыщешь. И так, тыкаем на иконку с огоньком!

**Дедлайны.<a name="Дедлайны"></a>** В этом разделе смешались классический тудушник и рид-онли трекер удаленных задач.
Тудушник позволяет нам создавать свои задачки, писать для них описание, задавать крайний срок и привязывать предметы. Такие задачи делятся на открытые, просроченные и закрытые. Чувствую себя капитаном очевидностью или программистом из мемов, пишущим комментарии.
Также эти задачи синхронизируются с сервером, потому можно не переживать за их сохранность при переустановке приложения или входе с другого устройства, лишь бы данные для входа в аккаунт не потерять.
Если функционал тудушника не востребован - его можно отключить в настройках, тогда останутся только удаленные задачи.
А трекер удаленных задач отображает задачи, подтянутые из системы учебного заведения. Такие задачи мы можем только посмотреть, но не потрогать, потому как их изменением занимаются преподаватели.
У этих задач отображается уже заметно больше информации - к пунктам из задач тудушника добавляются тип задачи, текущая ее оценка, максимально возможная оценка и прикрепленный файл при его наличии.
Естественно, для просмотра таких задач нужно либо авторизоваться через систему учебного заведения, либо зайти через вк, а потом в настройках привязать учетку вышеназванной системы.
Здесь мы пока закончили. И так - последний из основных модулей.

**Новости.<a name="Новости"></a>** Источники новостей индивидуальны для каждого поддерживаемого учебного заведения. Наша команда тщательно отбирает ~~низкопробные паблики с мемами~~ релевантные сайты и группы вк, новые записи которых парсятся сервером и отдаются приложению.
Можно выбрать, какие источники отображать. Ведь не всем интересны университетские "подслушано" или " ежедневник клуба кожевенного ремесла".
Но первым делом открывается сводка, показывающая сегодняшнее расписание, сегодняшние дедлайны и свежие новости. Впрочем, ее отображение тоже можно отключить.
Каждая новость отображается с картинками (при наличии) и со счетчиками лайков, просмотров и репостов (если новость из вконтакте).
Больше тут ничего интересного не осталость, пора переходить к последнему экрану.

**Настройки.<a name="Настройки"></a>** Тут почти не о чем рассказывать - имя, группа и аватарка пользователя, привязка учетной записи учебного заведения, выбор пользователя расписания по умолчанию, определение стартового экрана и "о приложении".
Остановлюсь только на последнем пункте. Политика конфиденциальности не то чтобы особо нужна моему приложению, но личные данные пользователя все же покидают устройство. Нужно же авторизовываться, получать расписание нужной группы и синхронизировать дедлайны с сервером.
Потому гугл требует добавить ссылку на privacy policy и в само приложение. А кто мы такие, чтобы спорить с гуглом? Особенно зная, как не любит техподдержка отвечать хоть на какие-то вопросы не крупных разработчиков, которым заблокировали аккаунт не за что.
И еще вы можете связаться со мной, жмякнув по соответствующей ссылке. На момент публикации там мой прямой контакт в телеграмме, но в дальнейшем его я заменю на бота.
А еще в этом разделе есть довольно легкая пасхалка.

И так, мы прошлись по всем разделам приложения, кроме секретного. Прошелся бы и по нему, но он же *секретный*. И, нет, с вышеописанной пасхалкой он не связан, ищите сами :)
Теперь перейдем к технической части. Надо бы написать оглавление, больно уж длинным получилось описание.

## Используемые технологии <a name="Используемые_технологии"></a>

В этом разделе особо распинаться не буду.
- Приложение **Single Activity with Fragments**, построено большей частью на **MVVM** и местами на **MVP**, используются **LifeCycle** и **ViewBinding**. Верстка отделена от кода, файлы разделяются по пакетам по принадлежности к модулю приложения. Навигация через самописный навигатор фрагментов.
- Сетевые взаимодействия через **Retrofit 2**, коммуникация с сервером по **REST API**.
- В качестве БД используется **Realm**, также некоторые данные хранятся в **Shared Preferences**.
- Нестандартный дизайн, сложная верстка. Кастомные **RecyclerView** и **ViewPager** адаптеры, в том числе **RealmRecyclerAdapter**. Отображение картинок через **Picasso**. Используются принципы **Material Design**.
- Один из методов авторизации - **VK SDK**.

Не факт, что этот список репрезентативен. Часть мог забыть упомянуть, часть мог имплементировать позднее и также забыть упомянуть :)
Да и вообще, если ты дочитал аж до сюда - я снимаю перед тобой шляпу.

## ГУАП и дизайн приложения <a name="ГУАП_и_дизайн_приложения"></a>

*Дисклеймер: ниженаписанное предназначенно для ответа на потенциальные вопросы студентов гуапа.*

Дизайн для этого приложения и приложения под IOS разработал Вадим Кокорев, за что ему огромная благодарность.
Но ближе к релизу я узнал, что у гуапа снова функционирует аналогичное приложение, ранее переставшее работать. И дизайн для него делал тот же Вадим Кокорев.
Однако приложение гуапа расчитано только на гуап и имеет дополнительный функционал, полезный только для того же гуапа. Мое приложение же является универсальным и работает с собственными серверами и с несколькими вузами, а также имеет отличающийся функционал и аналогичную IOS-версию.
Потому просьба не кидаться какашками из-за одинаковых иконок (которые вообще из бесплатного ассета VK) и схожего дизайна.

Из-за возможной реакции студентов наша команда не планирует распространять android-приложение в гуапе. Впрочем, наше ios-приложение в гуапе остается востребованным.

## Заключение <a name="Заключение"></a>

Я не знаю, кто ты и зачем зашел сюда. Студент? Коллега? HR? Просто прохожий? Кто бы ты ни был - я хочу сказать спасибо. Спасибо, что проявил интерес. Спасибо, что зашел. Спасибо, что дочитал. Это мое первое большое и не тренировочное приложение, и в каждую из его двенадцати тысяч строк кода я вложил частичку себя - свою надежду. Надеюсь, мы еще увидимся снова в моих или твоих репозиториях.

____
*Always.*
____
